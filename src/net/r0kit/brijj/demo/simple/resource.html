<!DOCTYPE html>
<html>
<head>
<title>Resource Forwarding</title>
<meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />
<script type='text/javascript' src='../tabs/tabs.js'>
	
</script>
<script type='text/javascript' src='../brijj/engine.js'>
	
</script>
<script type='text/javascript' src='../brijj/interface/Demo.js'>
	
</script>
<link rel="stylesheet" type="text/css" href="../tabs/tabs.css" />
<link rel="stylesheet" type="text/css" href="../generic.css" />
<script>
	function getSource() {
		var xx = document.getElementById("htmlSource");
		var dd = document.getElementById("demoDiv");
		xx.textContent = dd.innerHTML;
		dd = document.getElementById("demoJs");
		xx = document.getElementById("jsSource");
		xx.textContent = dd.textContent;
		Demo.getInclude("Demo.html", function(data) {
			document.getElementById("javaSource").innerText = data;
		});
	}
</script>
</head>
<body
	onload="Tabs('tabList');getSource();">
	<div id="page-title">
		[ <a href="http://r0kit.net/brijj/">brijj Website</a> | <a href="..">Web
			Application Index</a> ]
	</div>

	<h1>Resource Forwarding</h1>

	<p>This is a simple demonstration of how to dynamically update a
		web-page with the contents of a page retrieved from the server.</p>

	<ul id="tabList">
		<li><a data-tab="demoDiv">Demo</a></li>
		<li><a data-tab="explainDiv">How it works</a></li>
		<li><a data-tab="sourceDiv">Source Code</a></li>
	</ul>

		<div id="demoDiv">
			<p>
				<input value="Include Page" type="button" onclick="forward()" /> <br />
				Included Page:
			</p>
			<div id="forward"></div>
		</div>

		<script id="demoJs">
			function forward() {
				Demo.getInclude(function(data) {
					document.getElementById("forward").innerHTML=data;
				});
			}
		</script>

		<div id="explainDiv">

			<p>
				Normally the code called by brijj is a simple POJO that knows
				nothing about the web. In this demonstration we want to find out
				about the web server so we use the
				<code>WebContext</code>
				class to get access to the ServletContext.
			</p>

			<p>
				This example is similar to the <a href="index.html">dynamic text
					example</a>, the big difference is that we are using <a
					href="forward.html">this HTML page</a>, and the WebContext class to
				allow us to get it. There are no iframes used in this example - just
				brijj and a humble div.
			</p>

			<p>There is one other difference. In the previous example we were
				working with plain text. Here we are working with HTML. To help
				protect you from XSS attacks brijj automatically escapes HTML
				characters, however sometimes (like in this case) we know that we
				have HTML, and that it is safe.
			</p>
		</div>

		<div id=sourceDiv>
			<h2>HTML Source:</h2>
			<pre id="htmlSource"></pre>
			<h2>Javascript Source:</h2>
			<pre id="jsSource"></pre>
			<h2>Java Source:</h2>
			<pre id=javaSource></pre>
		</div>

</body>
</html>
